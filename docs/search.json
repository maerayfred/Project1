[
  {
    "objectID": "Project1.html",
    "href": "Project1.html",
    "title": "Project11",
    "section": "",
    "text": "# Calling libraries\nlibrary(tidyverse)\nlibrary(tidycensus)\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(glue)\n\n\n\n\n\nsource(\"src/census_query.R\")\ncensus_url\n\nfunction (year = \"2022\", get_vals = c(\"AGEP\", \"PWGTP\", \"SEX\"), \n    get_vals_subset = NULL, for_val = \"state:10\") \n{\n    BASE_URL &lt;- glue(\"https://api.census.gov/data/{year}/acs/acs1/pums\")\n    get_vals_str &lt;- ifelse((vals &lt;- paste(get_vals, collapse = \",\")) != \n        \"\", glue(\"get={vals}\"), \"\")\n    get_vals_subset_str &lt;- paste(get_vals_subset, collapse = \"&\")\n    for_str &lt;- ifelse(for_val != \"\", glue(\"for={for_val}\"), \"\")\n    suffix_list &lt;- c(get_vals_str, get_vals_subset_str, for_str)\n    suffix &lt;- paste(suffix_list[suffix_list != \"\"], collapse = \"&\")\n    return(glue(\"{BASE_URL}?{suffix}\"))\n}\n\nsource(\"test/test_census_query.R\")\ntest_1\n\nfunction () \n{\n    URL &lt;- census_url()\n    return(URL)\n}\n\ntest_1()\n\nhttps://api.census.gov/data/2022/acs/acs1/pums?get=AGEP,PWGTP,SEX&for=state:10\n\ntest_2\n\nfunction () \n{\n    URL &lt;- census_url(get_vals = NULL, get_vals_subset = NULL, \n        for_val = NULL)\n    return(URL)\n}\n\ntest_2()\n\nhttps://api.census.gov/data/2022/acs/acs1/pums?\n\ntest_3\n\nfunction () \n{\n    URL &lt;- census_url(year = 2021, get_vals = c(\"HISPEED\", \"PWGTP\"), \n        get_vals_subset = c(\"AGEP=00\", \"SEX=2\", \"GRPIP=30:35\"), \n        for_val = \"region:1\")\n    return(URL)\n}\n\ntest_3()\n\nhttps://api.census.gov/data/2021/acs/acs1/pums?get=HISPEED,PWGTP&AGEP=00&SEX=2&GRPIP=30:35&for=region:1\n\ntest_4\n\nfunction () \n{\n    URL &lt;- test_3()\n    return(census_tibble(URL))\n}\n\ntest_4()\n\nWarning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n`.name_repair` is omitted as of tibble 2.0.0.\nℹ Using compatibility `.name_repair`.\n\n\n# A tibble: 58 × 6\n   HISPEED PWGTP AGEP  SEX   GRPIP region\n   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; \n 1 1       328   0     2     35    1     \n 2 1       216   0     2     35    1     \n 3 1       202   0     2     33    1     \n 4 1       237   0     2     31    1     \n 5 1       74    0     2     33    1     \n 6 1       140   0     2     35    1     \n 7 2       315   0     2     32    1     \n 8 0       75    0     2     35    1     \n 9 2       173   0     2     35    1     \n10 2       190   0     2     32    1     \n# ℹ 48 more rows"
  },
  {
    "objectID": "Project1.html#data-processing",
    "href": "Project1.html#data-processing",
    "title": "Project11",
    "section": "",
    "text": "# Calling libraries\nlibrary(tidyverse)\nlibrary(tidycensus)\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(glue)\n\n\n\n\n\nsource(\"src/census_query.R\")\ncensus_url\n\nfunction (year = \"2022\", get_vals = c(\"AGEP\", \"PWGTP\", \"SEX\"), \n    get_vals_subset = NULL, for_val = \"state:10\") \n{\n    BASE_URL &lt;- glue(\"https://api.census.gov/data/{year}/acs/acs1/pums\")\n    get_vals_str &lt;- ifelse((vals &lt;- paste(get_vals, collapse = \",\")) != \n        \"\", glue(\"get={vals}\"), \"\")\n    get_vals_subset_str &lt;- paste(get_vals_subset, collapse = \"&\")\n    for_str &lt;- ifelse(for_val != \"\", glue(\"for={for_val}\"), \"\")\n    suffix_list &lt;- c(get_vals_str, get_vals_subset_str, for_str)\n    suffix &lt;- paste(suffix_list[suffix_list != \"\"], collapse = \"&\")\n    return(glue(\"{BASE_URL}?{suffix}\"))\n}\n\nsource(\"test/test_census_query.R\")\ntest_1\n\nfunction () \n{\n    URL &lt;- census_url()\n    return(URL)\n}\n\ntest_1()\n\nhttps://api.census.gov/data/2022/acs/acs1/pums?get=AGEP,PWGTP,SEX&for=state:10\n\ntest_2\n\nfunction () \n{\n    URL &lt;- census_url(get_vals = NULL, get_vals_subset = NULL, \n        for_val = NULL)\n    return(URL)\n}\n\ntest_2()\n\nhttps://api.census.gov/data/2022/acs/acs1/pums?\n\ntest_3\n\nfunction () \n{\n    URL &lt;- census_url(year = 2021, get_vals = c(\"HISPEED\", \"PWGTP\"), \n        get_vals_subset = c(\"AGEP=00\", \"SEX=2\", \"GRPIP=30:35\"), \n        for_val = \"region:1\")\n    return(URL)\n}\n\ntest_3()\n\nhttps://api.census.gov/data/2021/acs/acs1/pums?get=HISPEED,PWGTP&AGEP=00&SEX=2&GRPIP=30:35&for=region:1\n\ntest_4\n\nfunction () \n{\n    URL &lt;- test_3()\n    return(census_tibble(URL))\n}\n\ntest_4()\n\nWarning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n`.name_repair` is omitted as of tibble 2.0.0.\nℹ Using compatibility `.name_repair`.\n\n\n# A tibble: 58 × 6\n   HISPEED PWGTP AGEP  SEX   GRPIP region\n   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; \n 1 1       328   0     2     35    1     \n 2 1       216   0     2     35    1     \n 3 1       202   0     2     33    1     \n 4 1       237   0     2     31    1     \n 5 1       74    0     2     33    1     \n 6 1       140   0     2     35    1     \n 7 2       315   0     2     32    1     \n 8 0       75    0     2     35    1     \n 9 2       173   0     2     35    1     \n10 2       190   0     2     32    1     \n# ℹ 48 more rows"
  }
]